"use strict";(()=>{var e={};e.id=572,e.ids=[572],e.modules={1185:e=>{e.exports=require("mongoose")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2837:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>m,originalPathname:()=>g,requestAsyncStorage:()=>l,routeModule:()=>p,serverHooks:()=>w,staticGenerationAsyncStorage:()=>h,staticGenerationBailout:()=>f});var a={};r.r(a),r.d(a,{GET:()=>GET,POST:()=>POST}),r(8976);var s=r(884),n=r(6132),o=r(5798),i=r(1185),u=r.n(i),c=r(6282),d=r(10);async function POST(e){try{if(await (0,d.v)(),1!==u().connection.readyState)throw Error("Database connection failed");let t=await e.json(),{name:r,message:a}=t;if(!r||!a)return o.Z.json({error:"Name and message are required"},{status:400});let s=await c.Z.create({name:r,message:a});return o.Z.json(s,{status:201})}catch(t){let e=t instanceof Error?t.message:"Error creating wish";return o.Z.json({error:e},{status:500})}}async function GET(){try{if(await (0,d.v)(),1!==u().connection.readyState)throw Error("Database connection failed");let e=await c.Z.find().sort({createdAt:-1});return o.Z.json(e,{status:200})}catch(t){let e=t instanceof Error?t.message:"Error fetching wishes";return o.Z.json({error:e},{status:500})}}let p=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/wishes/route",pathname:"/api/wishes",filename:"route",bundlePath:"app/api/wishes/route"},resolvedPagePath:"C:\\bday\\app\\api\\wishes\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:l,staticGenerationAsyncStorage:h,serverHooks:w,headerHooks:m,staticGenerationBailout:f}=p,g="/api/wishes/route"},6282:(e,t,r)=>{r.d(t,{Z:()=>i});var a=r(1185),s=r.n(a);let n=new(s()).Schema({name:{type:String,required:!0},message:{type:String,required:!0},createdAt:{type:Date,default:Date.now}}),o=s().models.Wish||s().model("Wish",n),i=o}};var t=require("../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[955,599],()=>__webpack_exec__(2837));module.exports=r})();